<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Cuenta - MiBarbero</title> 
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <a th:href="@{/home}" class="auth-top-logo">
    <img th:src="@{/images/logonofondo.png}" alt="MiBarbero Logo">
</a>

    <div class="auth-bg"></div>

    <main class="auth-container">
        <div class="login-box">
            <h2>Crear Tu Cuenta</h2>

            <div th:if="${error}" class="alert-error" th:text="${error}"></div>

            <form th:action="@{/register}" th:object="${usuario}" method="post">
                
                <div class="input-group">
                    <label for="fullName">Nombre Completo</label>
                    <input type="text" th:field="*{fullName}" placeholder="" required> 
                </div>

                <div class="input-group">
                    <label for="username">Nombre de usuario</label>
                    <input type="text" th:field="*{username}" placeholder="" required>
                </div>

                <div class="input-group">
                    <label for="email">Correo Electrónico</label>
                    <input type="email" th:field="*{email}" placeholder="" required>
                </div>

                <div class="input-group">
                    <label for="password">Contraseña</label>
                    <input type="password" th:field="*{password}" placeholder="" required>
                </div>
                
                <div class="input-group choice-group">
                    <p class="choice-question">¿Cómo quieres registrarte?</p>
                    <div class="choice-options">
                        <input type="radio" id="role_client" th:field="*{role}" value="CLIENT">
                        <label for="role_client">Cliente</label>

                        <input type="radio" id="role_barber" th:field="*{role}" value="BARBER">
                        <label for="role_barber">Barbero</label>
                    </div>
                </div>

                <button type="submit" class="auth-submit">Registrarse</button>
            </form>

            <p class="auth-note">¿Ya tienes cuenta? <a th:href="@{/login}">Inicia sesión</a></p>
        </div>
    </main>
</body>
<script>
    // 2. Ocultar alertas automáticamente
        document.addEventListener('DOMContentLoaded', function() {
            const alertas = document.querySelectorAll('.alert-success, .alert-error');
            
            if (alertas.length > 0) {
                setTimeout(function() {
                    alertas.forEach(alerta => {
                        alerta.style.transition = "opacity 0.5s ease";
                        alerta.style.opacity = "0";
                        setTimeout(() => alerta.remove(), 500);
                    });
                }, 3000);
            }
        });
</script>
</html>